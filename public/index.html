<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Test</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.0.0/lumen/bootstrap.min.css" />
    <link rel="stylesheet" href="css/styles.css" media="screen" title="no title">
    <script src="https://code.jquery.com/jquery.js"></script>
</head>
<body>
    <form>
        <input id="myloc" type="text" value="30.267140, -97.743076">
        <input type="number" name="distance" id="distance"> 
        <input type="checkbox" class="sports" name="baseball" id="baseball">Baseball
        <input type="checkbox" class="sports" name="basketball" id="basketball">Basketball
        <input type="checkbox" class="sports" name="soccer" id="soccer">Soccer
        <input type="submit" name="submit" id="test">
    </form>
    <script>
    $(document).ready(function() {

        $("#test").on("click", function(event) {
            event.preventDefault();
            console.log("Button Worked!")
            filterSearch();
        });
        
        function filterSearch() {
            var checks = $(".sports");
            var mysports = [];
            for (let i = 0; i < 3; i++) {
                if (checks[i].checked == true) {
                    mysports.push(checks[i].id);
                }
                
            }
            console.log(mysports);
            var myfilter = {
                location: $("#myloc").val(),
                distance: $("#distance").val(),
                sports: mysports
                };
            console.log(myfilter);
            $.ajax({
                url: "/api/filter",
                method: "PUT",
                data: myfilter,
                dataType: 'json'
            }).then(function(results) {
                console.log(results);
            });
        }    
    });
    </script>
</body>
</html>



